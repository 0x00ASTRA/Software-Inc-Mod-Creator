<!DOCTYPE html>
<html>
  <head>
    <title>SIMCA - Company Type Creator</title>
    <link
      rel="icon"
      href="/static/images/favicons/favicon.ico"
      type="image/x-icon"
    />
    <link
      rel="icon"
      href="/static/images/favicons/favicon-32x32.png"
      sizes="32x32"
    />
    <link
      rel="icon"
      href="/static/images/favicons/favicon-16x16.png"
      sizes="16x16"
    />
    <link
      rel="apple-touch-icon"
      href="/static/images/favicons/apple-touch-icon.png"
    />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://unpkg.com/htmx.org@2.0.4"></script>
  </head>
  <body>
    <div>
      <title-navbar
        title="Company Type Creator"
        subtitle="Create a Company Type Data Mod for Software Inc."
        description="Company types are the types of company that the game will simulate. If you don't define company types for your new software types, the software will not be released by the AI."
      >
      </title-navbar>
      <!-- Start - Form -->
      <form
        class="mod-form"
        id="company-type-form"
        hx-post="/submit/company-type"
      >
        <input-line
          label="Mod-File Name:"
          placeholder="e.g., WebDevelopment"
          info-msg="The name of the mod-file, typically the the name of the company type."
        ></input-line>
        <input-line
          label="Company Specialization:"
          placeholder="e.g., Antivirus"
          info-msg="The name/tag of the company type. If you pick a name of one of the built-in company types, you can override it."
        ></input-line>
        <div class="slider-hstack">
          <input-range-slider
            label="Per Year"
            min="0"
            max="1.0"
            default-value="0.2"
            step="0.01"
            suffix="/yr"
            description="The chance of a company of this type being founded every year. All company types in Software Inc. has this set to 0.2, as it seems to work pretty well."
          ></input-range-slider>
          <input-range-slider
            label="Min"
            min="0"
            max="20"
            default-value="3"
            step="1"
            suffix="companies"
            description="The minimum amount of companies of this type there has to be on the market at any given point in time. 2 for computer OS, 3 for games."
          ></input-range-slider>
          <input-range-slider
            label="Max"
            min="0"
            max="20"
            default-value="5"
            step="1"
            suffix="companies"
            description="The chance of a company of this type being founded every year. All company types in Software Inc. has this set to 0.2, as it seems to work pretty well."
          ></input-range-slider>
        </div>

        <div class="spacer"></div>
        <simca-table
          label="Software Types"
          description="The types of software that this company will produce (e.g., Antivirus, Operating System, etc.) followed by the chance of them being produced."
          columns='{"Software Type": "string", "Chance": "number"}'
          entries='[{"Software Type": "", "Chance": 0.0}]'
        ></simca-table>
        <toggle-switch
          label="Force"
          description="Should this company force a product out immediately when the game starts? (primarily used for OS)"
          checked="false"
        ></toggle-switch>
        <toggle-switch
          label="Frameworks"
          description="Whether this company will develop frameworks for their products, which can be licensed by the player and other companies."
          checked="false"
        ></toggle-switch>
        <toggle-switch
          id="addon-toggle"
          label="Add-On's"
          description="Optional list of tables with Software, Addon and Chance records, which is this company's chance of developing the specified hardware add-on of the software type for another company's hardware product. Companies will by default create add-ons for their own products."
          checked="false"
        ></toggle-switch>

        <div id="addon-table-container" class="hidden">
          <simca-table
            label="Add-On Software"
            description="The software, add-ons, and the chance of them being developed."
            columns='{"Software": "string", "Add-on": "string", "Chance": "number"}'
            entries='[{"Software": "", "Add-on": "", "Chance": 0.0}]'
          ></simca-table>
        </div>

        <style>
          #addon-table-container {
            opacity: 0;
            max-height: 0;
            overflow: hidden;
            transition: opacity 0.4s ease, max-height 0.4s ease;
          }

          #addon-table-container.visible {
            opacity: 1;
            max-height: 500px; /* Adjust as needed */
          }
        </style>

        <script>
          document.addEventListener("DOMContentLoaded", function () {
            const addonToggle = document.getElementById("addon-toggle");
            const addonTableContainer = document.getElementById(
              "addon-table-container"
            );

            addonToggle.addEventListener("toggle", function (event) {
              if (event.detail.checked) {
                addonTableContainer.classList.add("visible");
              } else {
                addonTableContainer.classList.remove("visible");
              }
            });
          });
        </script>
        <!-- To-Do: Add Export buttons-->
        <dropdown-select
          label="Name Generator"
          description="Select a name generator for your company type."
          api-endpoint="/api/v1/name-generators"
        >
        </dropdown-select>
        <icon-btn icon="static/images/Plus.png" info-msg="Create a new name generator." hx-get="/name-generator" hx-target="#result"></icon-btn>

        <div class="spacer"></div>
      </form>
    </div>
    <script src="static/javascript/components.js"></script>
    <link rel="stylesheet" href="static/css/style.css" />
  </body>
</html>
